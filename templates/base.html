{% load static %}
{% load widget_tweaks %}
{% load postman_tags %} 
 

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PWFU</title>

	<!-- Google Font: Source Sans Pro -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
	<!-- Font Awesome Icons -->
	<link rel="stylesheet" href="{% static 'css/all.min.css' %}">
	<!-- overlayScrollbars -->
	<link rel="stylesheet" href="{% static 'css/OverlayScrollbars.min.css' %}">
	<link rel="stylesheet" href="{% static 'css/icheck-bootstrap.min.css' %}">
	<link rel="stylesheet" href="{% static 'css/ekko-lightbox.css' %}">
	<!-- Theme style -->
	<link rel="stylesheet" href="{% static 'css/adminlte.css' %}">
	<link rel="stylesheet" href="{% static 'css/main.css' %}">
	<link rel="stylesheet" href="{% static 'css/post.css' %}">
	<link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}">
    <!-- <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}"> -->
    <script src="{% static 'js/jquery.min.js' %}"></script>  
	<script src="{% static 'js/jquery-ui.js' %}"></script>
</head>
<body class="hold-transition dark-mode sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">
	<div class="wrapper">
		<!-- Preloader -->
		<div class="preloader flex-column justify-content-center align-items-center">
			<img class="animation__wobble" src="{% static 'images/AdminLTELogo.png' %}" alt="Purewish" height="60" width="60">
		</div>

		<nav class="main-header navbar navbar-expand navbar-dark">
		    <!-- Left navbar links -->
		    <ul class="navbar-nav">
		      <li class="nav-item">
		        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
		      </li>
		      <li class="nav-item d-none d-sm-inline-block">
		        <a href="{% url 'home' %}" class="nav-link">Home</a>
		      </li>
		      <li class="nav-item d-none d-sm-inline-block">
		        <a href="#" class="nav-link">Contact</a>
		      </li>
		    </ul>

		    <!-- Right navbar links -->
		    <ul class="navbar-nav ml-auto">
			    <!-- Navbar Search -->
			    <li class="nav-item">
			        <a class="nav-link" data-widget="navbar-search" href="#" role="button">
			          <i class="fas fa-search"></i>
			        </a>
			        <div class="navbar-search-block">
		        	{% if page == 'stuff_page' %}
			            <form class="form-inline" method="GET" action="{% url 'all-staffs' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>

		        	{% elif page == 'volunteer_page' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>

		        	{% elif page == 'project_page' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>


		        	{% elif page == 'mail_page' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>

		        	{% elif page == 'volunteers_contact' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>


		        	{% elif page == 'stuff_contacts' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>


		        	{% elif page == 'stuff_page' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>


		        	{% elif page == 'donor_contact' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>


		        	{% elif page == 'post' %}

			        	<form class="form-inline" method="GET" action="{% url 'all-volunteers' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			        	</form>


		            {% else %}
			            <form class="form-inline" method="GET" action="{% url 'view-donor' %}?q=#">
				            <div class="input-group input-group-sm">
				              <input class="form-control form-control-navbar" name="q" type="text" placeholder="Search" aria-label="Search">
				              <div class="input-group-append">
				                <button class="btn btn-navbar" type="submit">
				                  <i class="fas fa-search"></i>
				                </button>
				                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
				                  <i class="fas fa-times"></i>
				                </button>
				              </div>
				            </div>
			            </form>
			        {% endif %}
			        </div>
			    </li>

		      <!-- Messages Dropdown Menu -->
		      <li class="nav-item dropdown">
		        <a class="nav-link" data-toggle="dropdown" href="#">
		          <i class="far fa-comments"></i>
		          {% postman_unread as unread_count %}
		          {% if unread_count != 0 %}
		          <span class="badge badge-danger navbar-badge">
		          	{% if unread_count %}
		          		{{ unread_count }}
		          	{% endif %}
		          </span>
		          {% endif %}
		        </a>
		        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
		          <a href="#" class="dropdown-item">
		            <!-- Message Start -->
		            <div class="media">
		              <img src="dist/img/user1-128x128.jpg" alt="User Avatar" class="img-size-50 mr-3 img-circle">
		              <div class="media-body">
		                <h3 class="dropdown-item-title">
		                  Brad Diesel
		                  <span class="float-right text-sm text-danger"><i class="fas fa-star"></i></span>
		                </h3>
		                <p class="text-sm">Call me whenever you can...</p>
		                <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
		              </div>
		            </div>
		            <!-- Message End -->
		          </a>
		          <div class="dropdown-divider"></div>
		          <a href="#" class="dropdown-item">
		            <!-- Message Start -->
		            <div class="media">
		              <img src="dist/img/user8-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3">
		              <div class="media-body">
		                <h3 class="dropdown-item-title">
		                  John Pierce
		                  <span class="float-right text-sm text-muted"><i class="fas fa-star"></i></span>
		                </h3>
		                <p class="text-sm">I got your message bro</p>
		                <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
		              </div>
		            </div>
		            <!-- Message End -->
		          </a>
		          <div class="dropdown-divider"></div>
		          <a href="#" class="dropdown-item">
		            <!-- Message Start -->
		            <div class="media">
		              <img src="dist/img/user3-128x128.jpg" alt="User Avatar" class="img-size-50 img-circle mr-3">
		              <div class="media-body">
		                <h3 class="dropdown-item-title">
		                  Nora Silvester
		                  <span class="float-right text-sm text-warning"><i class="fas fa-star"></i></span>
		                </h3>
		                <p class="text-sm">The subject goes here</p>
		                <p class="text-sm text-muted"><i class="far fa-clock mr-1"></i> 4 Hours Ago</p>
		              </div>
		            </div>
		            <!-- Message End -->
		          </a>
		          <div class="dropdown-divider"></div>
		          <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
		        </div>
		      </li>
		      <!-- Notifications Dropdown Menu -->
		      <li class="nav-item dropdown">
		        <a class="nav-link" data-toggle="dropdown" href="#">
		          <i class="far fa-bell"></i>
		          <span class="badge badge-warning navbar-badge">15</span>
		        </a>
		        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
		          <span class="dropdown-item dropdown-header">15 Notifications</span>
		          
		          {% postman_unread as unread_count %}
		          {% if unread_count != 0 %}
		          <div class="dropdown-divider"></div>
		          <a href="{% url 'postman:inbox' %}" class="dropdown-item">
		            <i class="fas fa-envelope mr-2"></i>
		          	{% if unread_count %}
		          		{{ unread_count }}
		          	{% endif %}
			         new messages
		            <span class="float-right text-muted text-sm">3 mins</span>
		          </a>
		          {% endif %}
		          <div class="dropdown-divider"></div>
		          <a href="#" class="dropdown-item">
		            <i class="fas fa-users mr-2"></i> 8 friend requests
		            <span class="float-right text-muted text-sm">12 hours</span>
		          </a>
		          <div class="dropdown-divider"></div>
		          <a href="#" class="dropdown-item">
		            <i class="fas fa-file mr-2"></i> 3 new reports
		            <span class="float-right text-muted text-sm">2 days</span>
		          </a>
		          <div class="dropdown-divider"></div>
		          <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
		        </div>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" data-widget="fullscreen" href="#" role="button">
		          <i class="fas fa-expand-arrows-alt"></i>
		        </a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" data-widget="control-sidebar" data-slide="true" href="#" role="button">
		          <i class="fas fa-th-large"></i>
		        </a>
		      </li>
		    </ul>
		</nav>
		<!-- /navbar -->


		<!-- Main Sidebar Container -->
		<aside class="main-sidebar sidebar-dark-primary elevation-4 ext-bottom">
		    <style>
		      .ext-bottom {
		        padding-bottom: 140px;
		      }
		    </style>


		    <!-- Brand Logo -->
		    <a href="index.html" class="brand-link">
		      <img src="{% static 'images/AdminLTELogo.png' %}" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
		      <span class="brand-text font-weight-light">PWFU</span>
		    </a>

		    <!-- Sidebar -->
		    <div class="sidebar">
		      <!-- Sidebar user panel (optional) -->
		      {% if request.user.is_authenticated %}
		      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
		        <div class="image">
		          <img  src="{{user.profile.image.url}}" class="direct-chat-img" alt="User Image">
		        </div>
		        <div class="info">
		          <a href="logout.html" class="d-block">
		          Hello {{user}}
		          </a>
		        </div>
		      </div>
		      {% else %}
		       <div class="user-panel mt-3 pb-3 mb-3 d-flex">
		        <div class="image">
		          <img src="{% static 'images/avatar-svg.png' %}" class="img-circle elevation-2" alt="User Image">
		        </div>
		      </div>
		      {% endif %}

		      <!-- SidebarSearch Form -->
		      <div class="form-inline">
		      	{% if page == 'stuff_page' %}
		      	<form class="form-inline" method="GET" action="">
			        <div class="input-group">
			          <input class="form-control form-control-sidebar" name="q" type="search" placeholder="Search" aria-label="Search">
			          <div class="input-group-append">
			            <button class="btn btn-sidebar" type="submit">
			              <i class="fas fa-search fa-fw"></i>
			            </button>
			          </div>
			        </div>
		        </form>
		        {% elif page == 'donor_page' %}
		        <form class="form-inline" method="GET" action="">
			        <div class="input-group">
			          <input class="form-control form-control-sidebar" name="q" type="search" placeholder="Search" aria-label="Search">
			          <div class="input-group-append">
			            <button class="btn btn-sidebar" type="submit">
			              <i class="fas fa-search fa-fw"></i>
			            </button>
			          </div>
			        </div>
		        </form>
		        {% else %}
		        <form class="form-inline" method="GET" action="">
			        <div class="input-group">
			          <input class="form-control form-control-sidebar" name="q" type="search" placeholder="Search" aria-label="Search">
			          <div class="input-group-append">
			            <button class="btn btn-sidebar" type="submit">
			              <i class="fas fa-search fa-fw"></i>
			            </button>
			          </div>
			        </div>
		        </form>
		        {% endif %}
		      </div>

		      <!-- Sidebar Menu -->
		      <nav class="mt-2">
		        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
		        
		        <!-- Post -->
		        <!-- Post -->
		        <!-- Post -->
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon fas fa-file"></i>
		              <p>
		                Post
		                <i class="right fas fa-angle-left"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              <li class="nav-item">
		                <a href="{% url 'all-post' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>All Post</p>
		                </a>
		              </li>

		              <li class="nav-item">
		                <a href="{% url 'add-post' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Add New Post</p>
		                </a>
		              </li>
		            </ul>
		          </li>

		          <!-- End Post -->
		          <!-- End Post -->
		          <!-- End Post -->


		          <!-- Messages -->
		          <!-- Messages -->
		          <!-- Messages -->
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon fas fa-comments"></i>
		              <p>
		                Messages
		                <i class="fas fa-angle-left right"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              <li class="nav-item">
		                <a href="{% url 'postman:inbox' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>View Messages</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'postman:write' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Compose Message</p>
		                </a>
		              </li>
		              <li class="nav-item"> 
		                <a href="{% url 'postman:archives' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Archive</p>
		                </a>
		              </li>              
		            </ul>
		          </li>
		          <!-- End Messages -->
		          <!-- End Messages -->
		          <!-- End Messages -->



		          <!-- Donors -->
		          <!-- Donors -->
		          <!-- Donors -->
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon fas fa-user-plus"></i>
		              <p>
		                Donors
		                <i class="fas fa-angle-left right"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              <li class="nav-item">
		                <a href="{% url 'view-donor' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>View Donors</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'add-donor' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Add Donor</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'donor-contact' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Donor Contacts</p>
		                </a>
		              </li>
		            </ul>
		          </li>
		          <!-- End Donor -->
		          <!-- End Donor -->
		          <!-- End Donor -->




		          <!-- Stuff -->
		          <!-- Stuff -->
		          <!-- Stuff -->
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon fas fa-user"></i>
		              <p>
		                Staffs
		                <i class="fas fa-angle-left right"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              <li class="nav-item">
		                <a href="{% url 'all-staffs' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Available Staffs</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'add-staff' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Add Staff</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'staffs-contact' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Staff Contacts</p>
		                </a>
		              </li>
		            </ul>
		          </li>
		          <!-- End Stuff -->
		          <!-- End Stuff -->
		          <!-- End Stuff -->




		          <!-- Volunteers -->
		          <!-- Volunteers -->
		          <!-- Volunteers -->
		          <!-- Volunteers -->
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon fas fa-caret-up"></i>
		              <p>
		                Volunteers
		                <i class="fas fa-angle-left right"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              <li class="nav-item">
		                <a href="{% url 'all-volunteers' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Available Volunteers</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'add-volunteers' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Add Volunteers</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'volunteers-contact' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Volunteers Contacts</p>
		                </a>
		              </li>
		            </ul>
		          </li>
		          <!-- End Volunteers -->
		          <!-- End Volunteers -->
		          <!-- End Volunteers -->



		          <!-- others -->
		          <!-- others -->
		          <!-- others -->
		          <li class="nav-header">Others</li>
		          <li class="nav-item">
		            <a href="{% url 'calendar' %}" class="nav-link">
		              <i class="nav-icon fas fa-calendar-alt"></i>
		              <p>
		                Calendar
		                <span class="badge badge-info right">2</span>
		              </p>
		            </a>
		          </li>
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon far fa-image"></i>
		              <p>
		                Gallery
		                <i class="right fas fa-angle-left"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              <li class="nav-item">
		                <a href="{% url 'gallery' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>All Images</p>
		                </a>
		              </li>

		              <li class="nav-item">
		                <a href="{% url 'add-image' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Add New Image</p>
		                </a>
		              </li>
		            </ul>
		          </li>
		         
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon far fa-envelope"></i>
		              <p>
		                Mailbox
		                <i class="fas fa-angle-left right"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              <li class="nav-item">
		                <a href="{% url 'mail-inbox' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Inbox</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'compose-mail' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Compose</p>
		                </a>
		              </li>
		              <!-- <li class="nav-item">
		                <a href="{% url 'read-mail' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Read</p>
		                </a>
		              </li> -->
		            </ul>
		          </li>
		          <li class="nav-item">
		            <a href="#" class="nav-link">
		              <i class="nav-icon fas fa-bars"></i>
		              <p>
		                Projects
		                <i class="fas fa-angle-left right"></i>
		              </p>
		            </a>
		            <ul class="nav nav-treeview">
		              
		                           
		              <li class="nav-item">
		                <a href="{% url 'view-project' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Projects</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'add-project' %}" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Project Add</p>
		                </a>
		              </li>
		              <!-- <li class="nav-item">
		                <a href="pages/examples/project-edit.html" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Project Edit</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="pages/examples/project-detail.html" class="nav-link">
		                  <i class="far fa-circle nav-icon"></i>
		                  <p>Project Detail</p>
		                </a>
		              </li> -->
		            </ul>
		          </li>

		          <!-- <li class="nav-item">
		            
		            <a href="pages/search/enhanced.html" class="nav-link">
		              <i class="nav-icon fas fa-search"></i>
		              <p>
		                Search
		                <i class="fas fa-"></i>
		              </p>
		            </a>

		            
		          </li> -->
		         
		              <li class="nav-item">
		                <a href="pages/examples/contact-us.html" class="nav-link">
		                  <i class="nav-icon fas fa-book"></i>
		                  <p>Contact us</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="{% url 'profile' %}" class="nav-link">
		                  <i class="nav-icon fas fa-plus-square"></i>
		                  <p>Profile</p>
		                </a>
		              </li>
		              <li class="nav-item">
		                <a href="pages/examples/faq.html" class="nav-link">
		                  <i class="nav-icon fas fa-circle"></i>
		                  <p>FAQ</p>
		                </a>
		              </li>
		          <!-- others -->
		          <!-- others -->
		          <!-- others -->
		   
		        </ul>
		      </nav>
		      <!-- /.sidebar-menu -->
		    </div>
		    <!-- /.sidebar -->
		</aside>
		<!-- Main Sidebar Container -->
		{% if messages %}
		<ul class="messages">
			{% for message in messages %}
			<li {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
			{% endfor %}
		</ul>
		{% endif %}

		{% block css %}{% endblock css %}
		{% block content %}{% endblock content %}
		{% block extra_js %}{% endblock extra_js %}

		 <!-- Main Footer -->
		<footer class="main-footer">
			<strong>Copyright &copy; 2020-2021 <a href="https://service@kakebe.com">Kakebe Technology Ltd</a>.</strong>
		All rights reserved.
			<div class="float-right d-none d-sm-inline-block">
			  <b>Version</b> 3.1.0
			</div>
		</footer>


	</div>
	<!-- REQUIRED SCRIPTS -->
	<!-- jQuery -->
	<script src="{% static 'js/jquery.min.js' %}"></script>
	<!-- Bootstrap -->
	<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
	<!-- overlayScrollbars -->
	<script src="{% static 'js/jquery.overlayScrollbars.min.js' %}"></script>
	<!-- AdminLTE App -->
	<script src="{% static 'js/adminlte.js' %}"></script>
	<!-- DataTable -->
	<script src="{% static 'js/query.dataTables.min.js' %}"></script>
	<script src="{% static 'js/dataTables.bootstrap4.min.js' %}"></script>
	<script src="{% static 'js/dataTables.responsive.min.js' %}"></script>
	<script src="{% static 'js/responsive.bootstrap4.min.js' %}"></script>
	<script src="{% static 'js/dataTables.buttons.min.js' %}"></script>
	<script src="{% static 'js/buttons.bootstrap4.min.js' %}"></script>
	<script src="{% static 'js/jszip.min.js' %}"></script>
	<script src="{% static 'js/pdfmake.min.js' %}"></script>
	<script src="{% static 'js/vfs_fonts.js' %}"></script>
	<script src="{% static 'js/buttons.html5.min.js' %}"></script>
	<script src="{% static 'js/buttons.print.min.js' %}"></script>
	<script src="{% static 'js/ekko-lightbox.min.js' %}"></script>
	<script src="{% static 'js/jquery.filterizr.min.js' %}"></script>

	<!-- PAGE PLUGINS -->
	<!-- jQuery Mapael -->
	<!-- <script src="plugins/jquery-mousewheel/jquery.mousewheel.js"></script>
	<script src="plugins/raphael/raphael.min.js"></script>
	<script src="plugins/jquery-mapael/jquery.mapael.min.js"></script>
	<script src="plugins/jquery-mapael/maps/usa_states.min.js"></script> -->
	<!-- ChartJS -->
	<!-- <script src="plugins/chart.js/Chart.min.js"></script> -->

	<!-- AdminLTE for demo purposes -->
	<script src="{% static 'js/demo.js' %}"></script>
	<!-- fullCalendar 2.2.5 -->
	<script src="{% static 'js/moment.min.js' %}"></script>
	<script src="{% static 'js/main.js' %}"></script>
	<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
	<script src="{% static 'js/dashboard2.js' %}"></script>
	<!-- Page specific script -->
	<script>
		function scrollToBottom() {
			let objDiv = document.getElementById("direct-chat-body");
			objDiv.scrollTop = objDiv.scrollHeight;
		}

		scrollToBottom();

        const roomName = JSON.parse(document.getElementById('room-name').textContent);
        const timeNow = JSON.parse(document.getElementById('time-now').textContent);

        const chatSocket = new WebSocket(
            'ws://'
            + window.location.host
            + '/ws/'
            + roomName
            + '/'
        );

        chatSocket.onmessage = function(e) {
        	console.log('onmessage')

            const data = JSON.parse(e.data);

            if(data.message){
            	document.querySelector('#direct-chat-body').innerHTML += ('<div class="direct-chat-msg right">' + '<div class="direct-chat-infos clearfix">' + '<span class="direct-chat-name float-right">' + data.username + '</span>' + '<span class="direct-chat-timestamp float-left">' + data.timenow + '</span>' + '</div>' + `<img class="direct-chat-img" src="${data.profile_pic}" alt="message user image">` + '<div class="direct-chat-text">' + data.message + '</div>' + '</div>');
            } else {
            	alert("Please enter the message.");
            }

            scrollToBottom();
        };

        chatSocket.onclose = function(e) {
            console.error('Chat socket closed unexpectedly');
        };

        document.querySelector('#chat-message-input').focus();
        document.querySelector('#chat-message-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#chat-message-submit').click();
            }
        };

        document.querySelector('#chat-message-submit').onclick = function(e) {
            const messageInputDom = document.querySelector('#chat-message-input');
            const message = messageInputDom.value;
            chatSocket.send(JSON.stringify({
                'message': message,
				'room': roomName,
				'timenow': timeNow
            }));
            messageInputDom.value = '';
        };
    </script>
    <script>
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            window.location.pathname = roomName + '/';
        };
    </script>
	<script>
	  $(function () {
	    $(document).on('click', '[data-toggle="lightbox"]', function(event) {
	      event.preventDefault();
	      $(this).ekkoLightbox({
	        alwaysShowClose: true
	      });
	    });

	    $('.filter-container').filterizr({gutterPixels: 3});
	    $('.btn[data-filter]').on('click', function() {
	      $('.btn[data-filter]').removeClass('active');
	      $(this).addClass('active');
	    });
	  })
	</script>
	<script>
	  $(function () {

	    /* initialize the external events
	     -----------------------------------------------------------------*/
	    function ini_events(ele) {
	      ele.each(function () {

	        // create an Event Object (https://fullcalendar.io/docs/event-object)
	        // it doesn't need to have a start or end
	        var eventObject = {
	          title: $.trim($(this).text()) // use the element's text as the event title
	        }

	        // store the Event Object in the DOM element so we can get to it later
	        $(this).data('eventObject', eventObject)

	        // make the event draggable using jQuery UI
	        $(this).draggable({
	          zIndex        : 1070,
	          revert        : true, // will cause the event to go back to its
	          revertDuration: 0  //  original position after the drag
	        })

	      })
	    }

	    ini_events($('#external-events div.external-event'))

	    /* initialize the calendar
	     -----------------------------------------------------------------*/
	    //Date for the calendar events (dummy data)
	    var date = new Date()
	    var d    = date.getDate(),
	        m    = date.getMonth(),
	        y    = date.getFullYear()

	    var Calendar = FullCalendar.Calendar;
	    var Draggable = FullCalendar.Draggable;

	    var containerEl = document.getElementById('external-events');
	    var checkbox = document.getElementById('drop-remove');
	    var calendarEl = document.getElementById('calendar');

	    // initialize the external events
	    // -----------------------------------------------------------------

	    new Draggable(containerEl, {
	      itemSelector: '.external-event',
	      eventData: function(eventEl) {
	        return {
	          title: eventEl.innerText,
	          backgroundColor: window.getComputedStyle( eventEl ,null).getPropertyValue('background-color'),
	          borderColor: window.getComputedStyle( eventEl ,null).getPropertyValue('background-color'),
	          textColor: window.getComputedStyle( eventEl ,null).getPropertyValue('color'),
	        };
	      }
	    });

	    var calendar = new Calendar(calendarEl, {
	      headerToolbar: {
	        left  : 'prev,next today',
	        center: 'title',
	        right : 'dayGridMonth,timeGridWeek,timeGridDay'
	      },
	      themeSystem: 'bootstrap',
	      //Random default events
	      events: [
	        {
	          title          : 'All Day Event',
	          start          : new Date(y, m, 1),
	          backgroundColor: '#f56954', //red
	          borderColor    : '#f56954', //red
	          allDay         : true
	        },
	        {
	          title          : 'Long Event',
	          start          : new Date(y, m, d - 5),
	          end            : new Date(y, m, d - 2),
	          backgroundColor: '#f39c12', //yellow
	          borderColor    : '#f39c12' //yellow
	        },
	        {
	          title          : 'Meeting',
	          start          : new Date(y, m, d, 10, 30),
	          allDay         : false,
	          backgroundColor: '#0073b7', //Blue
	          borderColor    : '#0073b7' //Blue
	        },
	        {
	          title          : 'Lunch',
	          start          : new Date(y, m, d, 12, 0),
	          end            : new Date(y, m, d, 14, 0),
	          allDay         : false,
	          backgroundColor: '#00c0ef', //Info (aqua)
	          borderColor    : '#00c0ef' //Info (aqua)
	        },
	        {
	          title          : 'Birthday Party',
	          start          : new Date(y, m, d + 1, 19, 0),
	          end            : new Date(y, m, d + 1, 22, 30),
	          allDay         : false,
	          backgroundColor: '#00a65a', //Success (green)
	          borderColor    : '#00a65a' //Success (green)
	        },
	        {
	          title          : 'Click for Google',
	          start          : new Date(y, m, 28),
	          end            : new Date(y, m, 29),
	          url            : 'https://www.google.com/',
	          backgroundColor: '#3c8dbc', //Primary (light-blue)
	          borderColor    : '#3c8dbc' //Primary (light-blue)
	        }
	      ],
	      editable  : true,
	      droppable : true, // this allows things to be dropped onto the calendar !!!
	      drop      : function(info) {
	        // is the "remove after drop" checkbox checked?
	        if (checkbox.checked) {
	          // if so, remove the element from the "Draggable Events" list
	          info.draggedEl.parentNode.removeChild(info.draggedEl);
	        }
	      }
	    });

	    calendar.render();
	    // $('#calendar').fullCalendar()

	    /* ADDING EVENTS */
	    var currColor = '#3c8dbc' //Red by default
	    // Color chooser button
	    $('#color-chooser > li > a').click(function (e) {
	      e.preventDefault()
	      // Save color
	      currColor = $(this).css('color')
	      // Add color effect to button
	      $('#add-new-event').css({
	        'background-color': currColor,
	        'border-color'    : currColor
	      })
	    })
	    $('#add-new-event').click(function (e) {
	      e.preventDefault()
	      // Get value and make sure it is not null
	      var val = $('#new-event').val()
	      if (val.length == 0) {
	        return
	      }

	      // Create events
	      var event = $('<div />')
	      event.css({
	        'background-color': currColor,
	        'border-color'    : currColor,
	        'color'           : '#fff'
	      }).addClass('external-event')
	      event.text(val)
	      $('#external-events').prepend(event)

	      // Add draggable funtionality
	      ini_events(event)

	      // Remove event from text input
	      $('#new-event').val('')
	    })
	  })
	</script>
</body>
</html>
